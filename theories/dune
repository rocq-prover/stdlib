(include_subdirs qualified)

; We omit All.v as not to block on rocq-core build
(coq.theory
 (name Stdlib)
 (package rocq-stdlib)
 (flags
   :standard
   -w -missing-scheme
   -w -deprecated-exact-proof
   -w -deprecated-end-tac
   -w -implicit-create-hint-db
   -w -closed-notation-not-level-0
   -w -notation-for-abbreviation
   -w -implicit-create-rewrite-hint-db
   -w -notation-for-abbreviation
   -w -postfix-notation-not-level-1)
 (modules :standard \ All))

(env
 (dev
  (coq
   ;; see theories/_CoqProject for details
   (flags :standard -w -notation-for-abbreviation -w -ltac2-notation-for-abbreviation))))

(rule
 (targets All.v)
 (deps (package rocq-core) All.sh (source_tree .))
 (action (with-stdout-to %{targets} (run env bash ./All.sh))))
